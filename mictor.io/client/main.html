<body>
  <nav>
      <img src="/images/logo.svg" alt="mictor.io logo" />
  </nav>

  <div class="grid">
    <div class="grid-100 urinals-content">
      <div class="grid-blue">
        <ul class="urinals-content__list">
          {{#each urinals}}
            {{>urinal}}
          {{/each}}
        </ul>

        <ul class="urinals-content__metrics">
          {{ #with metrics }}
            <li>
              {{ #if ok}}
                <img src="/images/like.svg" alt="" />
                <span>It's a good time to go</span>
              {{ else }}
                <img src="/images/dislike.svg" alt="" />
                <span>Isn't a good time to go</span>
              {{ /if}}
            </li>
            <li>
              <h3>
                  {{ violations }}
              </h3>
              <span>Algorithm violations</span>
            </li>
          {{ /with }}
        </ul>
      </div>
    </div>
  </div>

  <div class="grid">
    {{ #with metrics }}
      {{ >time }}
    {{ /with}}
  </div>

  <div class="grid">
    <div class="grid-50">
      {{ #with metrics }}
        {{ >distance }}
      {{ /with}}
    </div>

    <div class="grid-50">
      {{ #with metrics }}
        {{ >rushhour }}
      {{ /with }}
    </div>
  </div>

  <div class="grid">
    {{ #with metrics }}
      {{ >mostused }}
    {{ /with }}
  </div>

  <div class="grid">
    <div class="grid-50">
      <div class="grid-grey">
        <div class="desc-container">
          <h3>Description</h3>
          <p>An AirBnB for urinals at public toilets.</p>
          <p>mictor.io is a cloud based platform for managing public urinals usage. Based on the popular paper <a href="http://people.scs.carleton.ca/%7Ekranakis/Papers/urinal.pdf" target="_blank">"The Urinal Problem"</a>, mictor.io relies on a set of wireless modules places at each urinal to sense when a urinal is being used. Furthermore it uses an intuitive color system to tell the user which urinal to use by means of a color LED.</p>

          <a class="social-link" href="https://github.com/rchicoria/mictor.io" target="_blank">
            <img src="/images/github.svg" alt="Github" />
          </a>
        </div>
      </div>
    </div>

    <div class="grid-50">
      <div class="grid-white">
        <div class="team-container">
          <h3>Team</h3>
          <ul>
            <li>
              <a href="https://github.com/goncabrita" target="_blank">
                <img src="https://avatars3.githubusercontent.com/u/1107575?v=3&s=400" alt="Gonçalo Cabrita" />
              </a>
            </li>

            <li>
              <a href="https://github.com/henriquemacedo" target="_blank">
                <img src="https://avatars2.githubusercontent.com/u/2805206?v=3&s=400" alt="Henrique Macedo" />
              </a>
            </li>

            <li>
              <a href="https://github.com/ricardocabrita" target="_blank">
                <img src="https://avatars3.githubusercontent.com/u/20298671?v=3&s=400" alt="Ricardo Cabrita" />
              </a>
            </li>

            <li>
              <a href="https://github.com/rchicoria" target="_blank">
                <img src="https://avatars3.githubusercontent.com/u/595938?v=3&s=400" alt="Rui Chicória" />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</body>

<template name="urinal">
  <li>
    <img src="/images/urinal.svg" alt="Urinal #{{ pos }}" />
    <div class="status status-{{#if wating_for_piss}}free{{else}}busy{{/if}}"></div>
  </li>
</template>

<template name="time">
  <div class="grid-50">
    <div class="grid-yellow">
      <div class="metric-content">
        <div class="metric-content__value">
          <h1>{{ averageTime }}</h1>
        </div>

        <div class="metric-content__desc">
          <span>seconds of average time in urinal</span>
        </div>
      </div>
    </div>
  </div>

  <div class="grid-50 grid-50__vertical">
    <div class="grid-orange">
      <div class="metric-content">
        <div class="metric-content__value">
          <h2>{{ maxTime }}</h2>
        </div>

        <div class="metric-content__desc">
          <span>seconds<br /> of maximum time on urinal</span>
        </div>
      </div>
    </div>

    <div class="grid-white">
      <div class="metric-content">
        <div class="metric-content__value">
          <h2>{{ minTime }}</h2>
        </div>

        <div class="metric-content__desc">
          <span>seconds<br /> of minimum time on urinal</span>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="distance">
  <div class="grid-purple">
    <div class="metric-content">
      <div class="metric-content__value">
        <h1>{{ averageDistance }}</h1>
      </div>

      <div class="metric-content__desc">
        <span>cm avarege distance of urinal</span>
      </div>
    </div>
  </div>
</template>

<template name="rushhour">
  <div class="grid-grey grid-chart">
    <canvas id="affluence_chart"></canvas>

    <div class="metric-content">
      <div class="metric-content__value">
        <h1>{{ rush_hour }}h</h1>
      </div>

      <div class="metric-content__desc">
        <span>rush hour</span>
      </div>
    </div>
  </div>
</template>

<template name="mostused">
  <div class="grid-100">
    <div class="grid-green grid-chart">
      <canvas id="top_urinal"></canvas>

      <div class="metric-content">
        <div class="metric-content__value">
          <h1>#{{ mostUsedUrinal }}</h1>
          {{trigger}}
        </div>

        <div class="metric-content__desc">
          <span>urinal most used</span>
        </div>
      </div>
    </div>
  </div>
</template>
