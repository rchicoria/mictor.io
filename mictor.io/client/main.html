<body>
  <nav>
      <img src="/images/logo.svg" alt="mictor.io logo" />
  </nav>

  <div class="grid">
    <div class="grid-100">
      <div class="grid-blue">
        <ul class="urinals">
          {{#each urinals}}
            {{>urinal}}
          {{/each}}
        </ul>
        <ul class="urinal-metrics">
          {{ #with metrics }}
            <li>
              {{ #if ok}}
                <img src="/images/like.svg" alt="" />
                <span>It's a good time<br /> to go</span>
              {{ else }}
                <img src="/images/dislike.svg" alt="" />
                <span>Isn't a good time<br /> to go</span>
              {{ /if}}
            </li>
            <li>
              <h3>
                  {{ violations }}
              </h3>
              <span>Algorithm<br /> violations</span>
            </li>
          {{ /with }}
        </ul>
      </div>
    </div>
  </div>

  <div class="grid">
    {{ #with metrics }}
      {{ >time }}
    {{ /with}}
  </div>

  <div class="grid">
    <div class="grid-50">
      {{ #with metrics }}
        {{ >distance }}
      {{ /with}}
    </div>

    <div class="grid-50">
      <div class="grid-grey grid-chart">
        <canvas id="affluence_chart"></canvas>

        <div class="metric-content">
          <div class="metric-content__value">
            <h1>14h</h1>
          </div>

          <div class="metric-content__desc">
            <span>rush hour</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="grid">
    <div class="grid-100">
      <div class="grid-green grid-chart">
        <canvas id="top_urinal"></canvas>

        <div class="metric-content">
          <div class="metric-content__value">
            <h1>#5</h1>
          </div>

          <div class="metric-content__desc">
            <span>urinal most used</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

<template name="urinal">
  <li>
    <img src="/images/urinal.svg" alt="Urinal #{{ pos }}" />
    <div class="status status-{{#if wating_for_piss}}free{{else}}busy{{/if}}"></div>
  </li>
</template>

<template name="time">
  <div class="grid-50">
    <div class="grid-yellow">
      <div class="metric-content">
        <div class="metric-content__value">
          <h1>{{ averageTime }}</h1>
        </div>

        <div class="metric-content__desc">
          <span>seconds of average time in urinal</span>
        </div>
      </div>
    </div>
  </div>

  <div class="grid-50 grid-50__vertical">
    <div class="grid-orange">
      <div class="metric-content">
        <div class="metric-content__value">
          <h2>{{ maxTime }}</h2>
        </div>

        <div class="metric-content__desc">
          <span>seconds<br /> of maximum time on urinal</span>
        </div>
      </div>
    </div>

    <div class="grid-white">
      <div class="metric-content">
        <div class="metric-content__value">
          <h2>{{ minTime }}</h2>
        </div>

        <div class="metric-content__desc">
          <span>seconds<br /> of minimum time on urinal</span>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="distance">
  <div class="grid-purple">
    <div class="metric-content">
      <div class="metric-content__value">
        <h1>{{ averageDistance }}</h1>
      </div>

      <div class="metric-content__desc">
        <span>cm avarege distance of urinal</span>
      </div>
    </div>
  </div>
</template>
